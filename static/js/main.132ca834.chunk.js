(this["webpackJsonpicl-calc"]=this["webpackJsonpicl-calc"]||[]).push([[0],{172:function(e,t,i){},173:function(e,t,i){"use strict";i.r(t);var a=i(1),c=i(61),r=i.n(c),n=i(12),l=i(4),s=i(175),o=i(0),d=function(e){var t=e.label,i=e.name,a=e.unit,c=e.unitTitle,r=e.placeholder,n=e.error,s=e.value,d=e.disabled;return Object(o.jsxs)("div",{className:"form-group row",children:[Object(o.jsx)("label",{htmlFor:i+"field",className:"col-sm-6 col-form-label",children:t}),Object(o.jsx)("div",{className:"col-sm-6",children:Object(o.jsxs)("div",{className:"input-group",children:[d?Object(o.jsx)("input",{name:i,value:s,className:"form-control text-right",disabled:!0}):Object(o.jsx)(l.b,{type:"number",name:i,className:(n?"is-invalid":"")+" form-control text-right",placeholder:r,autoComplete:"off"}),a?Object(o.jsx)("div",{className:"input-group-append",children:Object(o.jsx)("span",{className:"input-group-text",title:c,children:a})}):null,Object(o.jsx)(l.a,{name:i,component:"div",className:"invalid-feedback"})]})})]})},m=i(3),b="Invalid value.",u="Required value.",j="".concat(b," [").concat(2.7,", ").concat(6,"]"),p="".concat(b," [").concat(20,", ").concat(70,"]"),h="".concat(b," [").concat(300,", ").concat(700,"]"),f="".concat(b," [").concat(-25,", ").concat(0,"]"),x="".concat(b," [").concat(-8,", ").concat(0,"]"),v=m.c().shape({patient:m.c().shape({dateOfBirth:m.a().optional().typeError("Invalid date. (yyyy-mm-dd)")}),biometrics:m.c().shape({ata:m.b().required(u).min(0,b).max(20,b),wtw:m.b().required(u).min(0,b).max(20,b),clr:m.b().required(u).min(-1e3,b).max(1e3,b),acq:m.b().required(u).min(2.7,j).max(6,j),acan:m.b().required(u).min(0,b).max(70,b),acat:m.b().required(u).min(0,b).max(70,b),kf:m.b().required(u).min(20,p).max(70,p),cct:m.b().required(u).min(300,h).max(700,h)}),spectacleRefraction:m.c().shape({sphere:m.b().required(u).min(-25,f).max(0,f),cylindre:m.b().required(u).min(-8,x).max(0,x),axis:m.b().required(u).min(0,b).max(180,b),vertex:m.b().required(u).min(0,b).max(20,b)})}),O=-1.33756,y=.9446,g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},N=function(e){return O+y*e},C=function(e){var t=e.sphere,i=e.cylindre;return O+y*(t+i)},R=function(e){var t=e.sphere,i=e.cylindre;return g(C({sphere:t,cylindre:i}))},A=function(e){var t=e.sphere,i=e.cylindre,a=N(t),c=C({sphere:t,cylindre:i});return g(a-c)},q=function(e){var t=e.sphere,i=e.cylindre,a=C({sphere:t,cylindre:i})-N(t);return g(N(t)+a/2)},T=function(e){var t=e.initialValues;e.setStatus;return Object(o.jsx)(l.d,{initialValues:t,validationSchema:v,onSubmit:function(e,t){var i=t.setSubmitting;setTimeout((function(){alert(JSON.stringify(e,null,2)),i(!1)}),400)},children:function(e){var t,i,a,c,r,n,m,b,u,j,p,h,f,x,v,O,y=e.errors,N=e.touched,C=e.values;return Object(o.jsxs)(l.c,{children:[Object(o.jsx)("h2",{children:"Patient"}),Object(o.jsxs)("div",{className:"form-row",children:[Object(o.jsxs)("div",{className:"form-group col-md-4",children:[Object(o.jsx)("label",{htmlFor:"fieldName",children:"Name"}),Object(o.jsx)(l.b,{name:"patient.name",className:"form-control",id:"fieldName",placeholder:"enter patient name",autoComplete:"off"})]}),Object(o.jsxs)("div",{className:"form-group col-md-2 offset-md-1",children:[Object(o.jsx)("label",{htmlFor:"fieldDateOfBirth",children:"Date of Birth"}),Object(o.jsx)(l.b,{name:"patient.dateOfBirth",className:((null===(t=y.patient)||void 0===t?void 0:t.dateOfBirth)&&(null===(i=N.patient)||void 0===i?void 0:i.dateOfBirth)?"is-invalid":"")+" form-control",id:"fieldDateOfBirth",placeholder:"yyyy-mm-dd",autoComplete:"off",maxLength:10}),Object(o.jsx)(l.a,{name:"patient.dateOfBirth",component:"div",className:"invalid-feedback"})]}),Object(o.jsxs)("div",{className:"form-group col-md-1 offset-md-1",children:[Object(o.jsx)("label",{htmlFor:"fieldAge",children:"Age"}),Object(o.jsxs)("div",{className:"input-group",children:[Object(o.jsx)("input",{name:"patient.age",className:"form-control text-right",id:"fieldAge",disabled:!0,value:C.patient.dateOfBirth&&!(null===(a=y.patient)||void 0===a?void 0:a.dateOfBirth)&&Object(s.a)(new Date,new Date(C.patient.dateOfBirth))||""}),Object(o.jsx)("div",{className:"input-group-append",children:Object(o.jsx)("span",{className:"input-group-text",title:"years",children:"yr."})})]})]}),Object(o.jsxs)("div",{className:"form-group col-md-2 offset-md-1",children:[Object(o.jsx)("label",{htmlFor:"fieldEye",children:"Eye"}),Object(o.jsxs)(l.b,{as:"select",name:"eye",className:"form-control",id:"fieldEye",autoComplete:"off",children:[Object(o.jsx)("option",{value:"",children:"Select..."}),Object(o.jsx)("option",{value:"left",children:"Left"}),Object(o.jsx)("option",{value:"right",children:"Right"})]})]})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)("div",{className:"form-row",children:[Object(o.jsxs)("div",{className:"col-md-4",children:[Object(o.jsx)("h2",{children:"Biometrics"}),Object(o.jsx)(d,{label:"Angle to Angle (AtA)",name:"biometrics.ata",unit:"mm",error:null===(c=y.biometrics)||void 0===c?void 0:c.ata}),Object(o.jsx)(d,{label:"White to White (WtW)",name:"biometrics.wtw",unit:"mm",unitTitle:"millimetres",error:null===(r=y.biometrics)||void 0===r?void 0:r.wtw}),Object(o.jsx)(d,{label:"Crystaline Lens Rise (CLR)",name:"biometrics.clr",unit:"nm",unitTitle:"nanometres",error:null===(n=y.biometrics)||void 0===n?void 0:n.clr}),Object(o.jsx)(d,{label:"Internal Anterior Chamber Depth (ACQ)",name:"biometrics.acq",unit:"mm",unitTitle:"millimetres",error:null===(m=y.biometrics)||void 0===m?void 0:m.acq}),Object(o.jsx)(d,{label:"Anterior Chamber Angle nasal (ACAn)",name:"biometrics.acan",unit:"\xba",unitTitle:"degrees",error:null===(b=y.biometrics)||void 0===b?void 0:b.acan}),Object(o.jsx)(d,{label:"Anterior Chamber Angle temporal (ACAt)",name:"biometrics.acat",unit:"\xba",unitTitle:"degrees",error:null===(u=y.biometrics)||void 0===u?void 0:u.acat}),Object(o.jsx)(d,{label:"Keratometry - Flat Meridian (Kf)",name:"biometrics.kf",unit:"dpt",unitTitle:"dioptres",error:null===(j=y.biometrics)||void 0===j?void 0:j.kf}),Object(o.jsx)(d,{label:"Central Corneal Thickness (CCT)",name:"biometrics.cct",unit:"\u03bcm",unitTitle:"micrometres",error:null===(p=y.biometrics)||void 0===p?void 0:p.cct})]}),Object(o.jsxs)("div",{className:"col-md-3 offset-md-1",children:[Object(o.jsx)("h2",{children:"Spectacle Refraction"}),Object(o.jsx)(d,{label:"Sphere",name:"spectacleRefraction.sphere",unit:"dpt",unitTitle:"dioptres",error:null===(h=y.spectacleRefraction)||void 0===h?void 0:h.sphere}),Object(o.jsx)(d,{label:"Cylindre",name:"spectacleRefraction.cylindre",unit:"dpt",unitTitle:"dioptres",error:null===(f=y.spectacleRefraction)||void 0===f?void 0:f.cylindre}),Object(o.jsx)(d,{label:"Axis",name:"spectacleRefraction.axis",unit:"\xba",unitTitle:"degrees",error:null===(x=y.spectacleRefraction)||void 0===x?void 0:x.axis}),Object(o.jsx)(d,{label:"Vertex",name:"spectacleRefraction.vertex",unit:"mm",unitTitle:"millimetres",error:null===(v=y.spectacleRefraction)||void 0===v?void 0:v.vertex})]}),Object(o.jsxs)("div",{className:"col-md-3 offset-md-1",children:[Object(o.jsx)("h2",{children:"ICL Power"}),Object(o.jsx)(d,{label:"Sphere",name:"iclSphere",value:R({sphere:C.spectacleRefraction.sphere,cylindre:C.spectacleRefraction.cylindre}),unit:"dpt",unitTitle:"dioptres",disabled:!0}),Object(o.jsx)(d,{label:"Cylindre",name:"iclCylindre",value:A({sphere:C.spectacleRefraction.sphere,cylindre:C.spectacleRefraction.cylindre}),unit:"dpt",unitTitle:"dioptres",disabled:!0}),Object(o.jsx)(d,{label:"Axis",name:"iclAxis",value:(O=C.spectacleRefraction.axis,g(O>=0&&O<90?O+90:O>90&&O<=180?O-90:O,1)),unit:"\xba",unitTitle:"degrees",disabled:!0}),Object(o.jsx)(d,{label:"Spherical Equivalent",value:q({sphere:C.spectacleRefraction.sphere,cylindre:C.spectacleRefraction.cylindre}),name:"iclSphericalEquivalent",unit:"\xba",unitTitle:"degrees",disabled:!0})]})]})]})}})},w=function(e){return console.log(e)},S=function(){var e=Object(a.useState)(0),t=Object(n.a)(e,2),i=t[0],c=t[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark fixed-top",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("a",{className:"navbar-brand",href:"/icl-calc",children:"ICL Size Calc"}),Object(o.jsx)("ul",{className:"navbar-nav mr-auto"}),Object(o.jsx)("form",{className:"form-inline",children:Object(o.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){c((function(e){return e+1}))},children:"Reset"})})]})}),Object(o.jsx)("div",{className:"container",children:Object(o.jsx)(T,{initialValues:{patient:{name:"",dateOfBirth:"",eye:"left"},biometrics:{ata:0,wtw:0,clr:0,acq:0,acan:0,acat:0,kf:0,cct:0},spectacleRefraction:{sphere:0,cylindre:0,axis:0,vertex:0}},setStatus:w},i)})]})},B=function(){return Object(o.jsx)(S,{})};i(172);r.a.render(Object(o.jsx)(B,{}),document.getElementById("root"))}},[[173,1,2]]]);
//# sourceMappingURL=main.132ca834.chunk.js.map