(this["webpackJsonpicl-calc"]=this["webpackJsonpicl-calc"]||[]).push([[0],{175:function(e,t,c){},176:function(e,t,c){"use strict";c.r(t);var i=c(1),a=c(62),r=c.n(a),n=c(13),l={patient:{name:"",dateOfBirth:"",eye:"left"},biometrics:{ata:0,wtw:0,clr:0,acq:0,acan:0,acat:0,kf:0,cct:0},spectacleRefraction:{sphere:0,cylindre:0,axis:0,vertex:0}},o=c(68),s=c(69),d=c(5),m=c(4),b=function(e){var t=e.error,c=e.touched,i=e.base,a=void 0===i?["form-control"]:i,r=e.invalid,n=void 0===r?["is-invalid"]:r,l=e.valid,o=void 0===l?[]:l;return[].concat(Object(m.a)(a),Object(m.a)(t&&c?n:o)).join(" ")},u=c(0),j=new Map([["mm","millimetres"],["nm","nanometres"],["\xba","degrees"],["dpt","dioptres"],["\u03bcm","micrometres"]]),h=function(e){var t=e.unit;return Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("span",{className:"input-group-text",title:j.get(t),children:t})})},v=function(e){var t=e.label,c=e.name,i=e.unit,a=e.placeholder,r=e.error,n=e.touched,l=e.value,o=e.disabled;return Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsx)("label",{htmlFor:c+"field",className:"col-sm-6 col-form-label",children:t}),Object(u.jsx)("div",{className:"col-sm-6",children:Object(u.jsxs)("div",{className:"input-group",children:[o?Object(u.jsx)("input",{name:c,value:l,className:"form-control text-right",disabled:!0}):Object(u.jsx)(d.b,{type:"number",name:c,className:b({error:r,touched:n,base:["form-control","text-right"]}),placeholder:a,autoComplete:"off"}),Object(u.jsx)(h,{unit:i}),Object(u.jsx)(d.a,{name:c,component:"div",className:"invalid-feedback"})]})})]})},p=c(3),f="Invalid value.",x="Required value.",O="".concat(f," [").concat(2.7,", ").concat(6,"]"),y="".concat(f," [").concat(20,", ").concat(70,"]"),N="".concat(f," [").concat(300,", ").concat(700,"]"),g="".concat(f," [").concat(-25,", ").concat(0,"]"),R="".concat(f," [").concat(-8,", ").concat(0,"]"),C=p.c().shape({patient:p.c().shape({dateOfBirth:p.a().optional().typeError("Invalid date. (yyyy-mm-dd)")}),biometrics:p.c().shape({ata:p.b().required(x).min(0,f).max(20,f),wtw:p.b().required(x).min(0,f).max(20,f),clr:p.b().required(x).min(-1e3,f).max(1e3,f),acq:p.b().required(x).min(2.7,O).max(6,O),acan:p.b().required(x).min(0,f).max(70,f),acat:p.b().required(x).min(0,f).max(70,f),kf:p.b().required(x).min(20,y).max(70,y),cct:p.b().required(x).min(300,N).max(700,N)}),spectacleRefraction:p.c().shape({sphere:p.b().required(x).min(-25,g).max(0,g),cylindre:p.b().required(x).min(-8,R).max(0,R),axis:p.b().required(x).min(0,f).max(180,f),vertex:p.b().required(x).min(0,f).max(20,f)})}),w=-1.33756,q=.9446,A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},B=function(e){return w+q*e},k=function(e){var t=e.sphere,c=e.cylindre;return w+q*(t+c)},S=function(e){var t=e.sphere,c=e.cylindre;return A(k({sphere:t,cylindre:c}))},F=function(e){var t=e.sphere,c=e.cylindre,i=B(t),a=k({sphere:t,cylindre:c});return A(i-a)},E=function(e){var t=e.sphere,c=e.cylindre,i=k({sphere:t,cylindre:c})-B(t);return A(B(t)+i/2)},D=c(178),I=function(e){var t=e.dateOfBirth,c=e.error;return t&&!c&&Object(D.a)(new Date,new Date(t))||0},L=function(e){var t,c,i,a,r=e.errors,n=e.values,l=e.touched;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Patient"}),Object(u.jsxs)("div",{className:"form-row",children:[Object(u.jsxs)("div",{className:"form-group col-md-4",children:[Object(u.jsx)("label",{htmlFor:"fieldName",children:"Name"}),Object(u.jsx)(d.b,{name:"patient.name",className:"form-control",id:"fieldName",placeholder:"enter patient name",autoComplete:"off"})]}),Object(u.jsxs)("div",{className:"form-group col-md-2 offset-md-1",children:[Object(u.jsx)("label",{htmlFor:"fieldDateOfBirth",children:"Date of Birth"}),Object(u.jsx)(d.b,{name:"patient.dateOfBirth",className:b({error:null===(t=r.patient)||void 0===t?void 0:t.dateOfBirth,touched:null===(c=l.patient)||void 0===c?void 0:c.dateOfBirth}),id:"fieldDateOfBirth",placeholder:"yyyy-mm-dd",autoComplete:"off",maxLength:10}),Object(u.jsx)(d.a,{name:"patient.dateOfBirth",component:"div",className:"invalid-feedback"})]}),Object(u.jsxs)("div",{className:"form-group col-md-2",children:[Object(u.jsx)("label",{htmlFor:"fieldAge",children:"Age"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{name:"age",className:"form-control text-right",id:"fieldAge",disabled:!0,value:I({dateOfBirth:null===(i=n.patient)||void 0===i?void 0:i.dateOfBirth,error:null===(a=r.patient)||void 0===a?void 0:a.dateOfBirth})}),Object(u.jsx)("div",{className:"input-group-append",children:Object(u.jsx)("span",{className:"input-group-text",title:"years",children:"yr."})})]})]}),Object(u.jsxs)("div",{className:"form-group col-md-2 offset-md-1",children:[Object(u.jsx)("label",{htmlFor:"fieldEye",children:"Eye"}),Object(u.jsxs)(d.b,{as:"select",name:"patient.eye",className:"form-control",id:"fieldEye",children:[Object(u.jsx)("option",{value:"",children:"Select..."}),Object(u.jsx)("option",{value:"left",children:"Left"}),Object(u.jsx)("option",{value:"right",children:"Right"})]})]})]})]})},M=function(e){var t=e.initialValues;return Object(u.jsx)(d.d,{initialValues:t,validationSchema:C,onSubmit:function(){},children:function(e){var t,c,i,a,r,n,l,m,b,j,h,p,f,x,O,y,N,g,R,C,w,q,B,k,D,I=e.errors,M=e.touched,V=e.values,W=Object(s.a)(e,["errors","touched","values"]);return Object(u.jsxs)(d.c,{children:[Object(u.jsx)(L,Object(o.a)({values:V,errors:I,touched:M},W)),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"form-row",children:[Object(u.jsxs)("div",{className:"col-md-4",children:[Object(u.jsx)("h2",{children:"Biometrics"}),Object(u.jsx)(v,{label:"Angle to Angle (AtA)",name:"biometrics.ata",unit:"mm",error:null===(t=I.biometrics)||void 0===t?void 0:t.ata,touched:null===(c=M.biometrics)||void 0===c?void 0:c.ata}),Object(u.jsx)(v,{label:"White to White (WtW)",name:"biometrics.wtw",unit:"mm",error:null===(i=I.biometrics)||void 0===i?void 0:i.wtw,touched:null===(a=M.biometrics)||void 0===a?void 0:a.wtw}),Object(u.jsx)(v,{label:"Crystaline Lens Rise (CLR)",name:"biometrics.clr",unit:"nm",error:null===(r=I.biometrics)||void 0===r?void 0:r.clr,touched:null===(n=M.biometrics)||void 0===n?void 0:n.clr}),Object(u.jsx)(v,{label:"Internal Anterior Chamber Depth (ACQ)",name:"biometrics.acq",unit:"mm",error:null===(l=I.biometrics)||void 0===l?void 0:l.acq,touched:null===(m=M.biometrics)||void 0===m?void 0:m.acq}),Object(u.jsx)(v,{label:"Anterior Chamber Angle nasal (ACAn)",name:"biometrics.acan",unit:"\xba",error:null===(b=I.biometrics)||void 0===b?void 0:b.acan,touched:null===(j=M.biometrics)||void 0===j?void 0:j.acan}),Object(u.jsx)(v,{label:"Anterior Chamber Angle temporal (ACAt)",name:"biometrics.acat",unit:"\xba",error:null===(h=I.biometrics)||void 0===h?void 0:h.acat,touched:null===(p=M.biometrics)||void 0===p?void 0:p.acat}),Object(u.jsx)(v,{label:"Keratometry - Flat Meridian (Kf)",name:"biometrics.kf",unit:"dpt",error:null===(f=I.biometrics)||void 0===f?void 0:f.kf,touched:null===(x=M.biometrics)||void 0===x?void 0:x.kf}),Object(u.jsx)(v,{label:"Central Corneal Thickness (CCT)",name:"biometrics.cct",unit:"\u03bcm",error:null===(O=I.biometrics)||void 0===O?void 0:O.cct,touched:null===(y=M.biometrics)||void 0===y?void 0:y.cct})]}),Object(u.jsxs)("div",{className:"col-md-3 offset-md-1",children:[Object(u.jsx)("h2",{children:"Spectacle Refraction"}),Object(u.jsx)(v,{label:"Sphere",name:"spectacleRefraction.sphere",unit:"dpt",error:null===(N=I.spectacleRefraction)||void 0===N?void 0:N.sphere,touched:null===(g=M.spectacleRefraction)||void 0===g?void 0:g.sphere}),Object(u.jsx)(v,{label:"Cylindre",name:"spectacleRefraction.cylindre",unit:"dpt",error:null===(R=I.spectacleRefraction)||void 0===R?void 0:R.cylindre,touched:null===(C=M.spectacleRefraction)||void 0===C?void 0:C.cylindre}),Object(u.jsx)(v,{label:"Axis",name:"spectacleRefraction.axis",unit:"\xba",error:null===(w=I.spectacleRefraction)||void 0===w?void 0:w.axis,touched:null===(q=M.spectacleRefraction)||void 0===q?void 0:q.axis}),Object(u.jsx)(v,{label:"Vertex",name:"spectacleRefraction.vertex",unit:"mm",error:null===(B=I.spectacleRefraction)||void 0===B?void 0:B.vertex,touched:null===(k=M.spectacleRefraction)||void 0===k?void 0:k.vertex})]}),Object(u.jsxs)("div",{className:"col-md-3 offset-md-1",children:[Object(u.jsx)("h2",{children:"ICL Power"}),Object(u.jsx)(v,{label:"Sphere",name:"iclSphere",value:S({sphere:V.spectacleRefraction.sphere,cylindre:V.spectacleRefraction.cylindre}),unit:"dpt",disabled:!0}),Object(u.jsx)(v,{label:"Cylindre",name:"iclCylindre",value:F({sphere:V.spectacleRefraction.sphere,cylindre:V.spectacleRefraction.cylindre}),unit:"dpt",disabled:!0}),Object(u.jsx)(v,{label:"Axis",name:"iclAxis",value:(D=V.spectacleRefraction.axis,A(D>=0&&D<90?D+90:D>90&&D<=180?D-90:D,1)),unit:"\xba",disabled:!0}),Object(u.jsx)(v,{label:"Spherical Equivalent",value:E({sphere:V.spectacleRefraction.sphere,cylindre:V.spectacleRefraction.cylindre}),name:"iclSphericalEquivalent",unit:"\xba",disabled:!0})]})]})]})}})},V=function(){var e=Object(i.useState)(0),t=Object(n.a)(e,2),c=t[0],a=t[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark fixed-top",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("a",{className:"navbar-brand",href:"/icl-calc",children:"ICL Size Calc"}),Object(u.jsx)("ul",{className:"navbar-nav mr-auto"}),Object(u.jsx)("form",{className:"form-inline",children:Object(u.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){a((function(e){return e+1}))},children:"Reset"})})]})}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(M,{initialValues:l},c)})]})},W=function(){return Object(u.jsx)(V,{})};c(175);r.a.render(Object(u.jsx)(W,{}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.fffd049b.chunk.js.map