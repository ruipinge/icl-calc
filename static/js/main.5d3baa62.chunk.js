(this["webpackJsonpicl-calc"]=this["webpackJsonpicl-calc"]||[]).push([[0],{175:function(e,t,c){},176:function(e,t,c){"use strict";c.r(t);var i=c(1),a=c(62),r=c.n(a),n=c(13),l=c(68),o=c(69),s=c(5),d=c(4),m=function(e){var t=e.error,c=e.touched,i=e.base,a=void 0===i?["form-control"]:i,r=e.invalid,n=void 0===r?["is-invalid"]:r,l=e.valid,o=void 0===l?[]:l;return[].concat(Object(d.a)(a),Object(d.a)(t&&c?n:o)).join(" ")},b=c(0),u=new Map([["mm","millimetres"],["nm","nanometres"],["\xba","degrees"],["dpt","dioptres"],["\u03bcm","micrometres"]]),j=function(e){var t=e.unit;return Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-text",title:u.get(t),children:t})})},h=function(e){var t=e.label,c=e.name,i=e.unit,a=e.placeholder,r=e.error,n=e.touched,l=e.value,o=e.disabled;return Object(b.jsxs)("div",{className:"form-group row",children:[Object(b.jsx)("label",{htmlFor:c+"field",className:"col-sm-6 col-form-label",children:t}),Object(b.jsx)("div",{className:"col-sm-6",children:Object(b.jsxs)("div",{className:"input-group",children:[o?Object(b.jsx)("input",{name:c,value:l,className:"form-control text-right",disabled:!0}):Object(b.jsx)(s.b,{type:"number",name:c,className:m({error:r,touched:n,base:["form-control","text-right"]}),placeholder:a,autoComplete:"off"}),Object(b.jsx)(j,{unit:i}),Object(b.jsx)(s.a,{name:c,component:"div",className:"invalid-feedback"})]})})]})},v=c(3),p="Invalid value.",f="Required value.",x="".concat(p," [").concat(2.7,", ").concat(6,"]"),O="".concat(p," [").concat(20,", ").concat(70,"]"),y="".concat(p," [").concat(300,", ").concat(700,"]"),N="".concat(p," [").concat(-25,", ").concat(0,"]"),g="".concat(p," [").concat(-8,", ").concat(0,"]"),R=v.c().shape({patient:v.c().shape({dateOfBirth:v.a().optional().typeError("Invalid date. (yyyy-mm-dd)")}),biometrics:v.c().shape({ata:v.b().required(f).min(0,p).max(20,p),wtw:v.b().required(f).min(0,p).max(20,p),clr:v.b().required(f).min(-1e3,p).max(1e3,p),acq:v.b().required(f).min(2.7,x).max(6,x),acan:v.b().required(f).min(0,p).max(70,p),acat:v.b().required(f).min(0,p).max(70,p),kf:v.b().required(f).min(20,O).max(70,O),cct:v.b().required(f).min(300,y).max(700,y)}),spectacleRefraction:v.c().shape({sphere:v.b().required(f).min(-25,N).max(0,N),cylindre:v.b().required(f).min(-8,g).max(0,g),axis:v.b().required(f).min(0,p).max(180,p),vertex:v.b().required(f).min(0,p).max(20,p)})}),C=-1.33756,w=.9446,q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},A=function(e){return C+w*e},B=function(e){var t=e.sphere,c=e.cylindre;return C+w*(t+c)},k=function(e){var t=e.sphere,c=e.cylindre;return q(B({sphere:t,cylindre:c}))},S=function(e){var t=e.sphere,c=e.cylindre,i=A(t),a=B({sphere:t,cylindre:c});return q(i-a)},F=function(e){var t=e.sphere,c=e.cylindre,i=B({sphere:t,cylindre:c})-A(t);return q(A(t)+i/2)},E=c(178),D=function(e){var t=e.dateOfBirth,c=e.error;return t&&!c&&Object(E.a)(new Date,new Date(t))||0},I=function(e){var t,c,i,a,r=e.errors,n=e.values,l=e.touched;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Patient"}),Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsxs)("div",{className:"form-group col-md-4",children:[Object(b.jsx)("label",{htmlFor:"fieldName",children:"Name"}),Object(b.jsx)(s.b,{name:"patient.name",className:"form-control",id:"fieldName",placeholder:"enter patient name",autoComplete:"off"})]}),Object(b.jsxs)("div",{className:"form-group col-md-2 offset-md-1",children:[Object(b.jsx)("label",{htmlFor:"fieldDateOfBirth",children:"Date of Birth"}),Object(b.jsx)(s.b,{name:"patient.dateOfBirth",className:m({error:null===(t=r.patient)||void 0===t?void 0:t.dateOfBirth,touched:null===(c=l.patient)||void 0===c?void 0:c.dateOfBirth}),id:"fieldDateOfBirth",placeholder:"yyyy-mm-dd",autoComplete:"off",maxLength:10}),Object(b.jsx)(s.a,{name:"patient.dateOfBirth",component:"div",className:"invalid-feedback"})]}),Object(b.jsxs)("div",{className:"form-group col-md-2",children:[Object(b.jsx)("label",{htmlFor:"fieldAge",children:"Age"}),Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("input",{name:"age",className:"form-control text-right",id:"fieldAge",disabled:!0,value:D({dateOfBirth:null===(i=n.patient)||void 0===i?void 0:i.dateOfBirth,error:null===(a=r.patient)||void 0===a?void 0:a.dateOfBirth})}),Object(b.jsx)("div",{className:"input-group-append",children:Object(b.jsx)("span",{className:"input-group-text",title:"years",children:"yr."})})]})]}),Object(b.jsxs)("div",{className:"form-group col-md-2 offset-md-1",children:[Object(b.jsx)("label",{htmlFor:"fieldEye",children:"Eye"}),Object(b.jsxs)(s.b,{as:"select",name:"patient.eye",className:"form-control",id:"fieldEye",children:[Object(b.jsx)("option",{value:"",children:"Select..."}),Object(b.jsx)("option",{value:"left",children:"Left"}),Object(b.jsx)("option",{value:"right",children:"Right"})]})]})]})]})},L=function(e){var t=e.initialValues;return Object(b.jsx)(s.d,{initialValues:t,validationSchema:R,onSubmit:function(){},children:function(e){var t,c,i,a,r,n,d,m,u,j,v,p,f,x,O,y,N,g,R,C,w,A,B,E,D,L=e.errors,M=e.touched,V=e.values,W=Object(o.a)(e,["errors","touched","values"]);return Object(b.jsxs)(s.c,{children:[Object(b.jsx)(I,Object(l.a)({values:V,errors:L,touched:M},W)),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"form-row",children:[Object(b.jsxs)("div",{className:"col-md-4",children:[Object(b.jsx)("h2",{children:"Biometrics"}),Object(b.jsx)(h,{label:"Angle to Angle (AtA)",name:"biometrics.ata",unit:"mm",error:null===(t=L.biometrics)||void 0===t?void 0:t.ata,touched:null===(c=M.biometrics)||void 0===c?void 0:c.ata}),Object(b.jsx)(h,{label:"White to White (WtW)",name:"biometrics.wtw",unit:"mm",error:null===(i=L.biometrics)||void 0===i?void 0:i.wtw,touched:null===(a=M.biometrics)||void 0===a?void 0:a.wtw}),Object(b.jsx)(h,{label:"Crystaline Lens Rise (CLR)",name:"biometrics.clr",unit:"nm",error:null===(r=L.biometrics)||void 0===r?void 0:r.clr,touched:null===(n=M.biometrics)||void 0===n?void 0:n.clr}),Object(b.jsx)(h,{label:"Internal Anterior Chamber Depth (ACQ)",name:"biometrics.acq",unit:"mm",error:null===(d=L.biometrics)||void 0===d?void 0:d.acq,touched:null===(m=M.biometrics)||void 0===m?void 0:m.acq}),Object(b.jsx)(h,{label:"Anterior Chamber Angle nasal (ACAn)",name:"biometrics.acan",unit:"\xba",error:null===(u=L.biometrics)||void 0===u?void 0:u.acan,touched:null===(j=M.biometrics)||void 0===j?void 0:j.acan}),Object(b.jsx)(h,{label:"Anterior Chamber Angle temporal (ACAt)",name:"biometrics.acat",unit:"\xba",error:null===(v=L.biometrics)||void 0===v?void 0:v.acat,touched:null===(p=M.biometrics)||void 0===p?void 0:p.acat}),Object(b.jsx)(h,{label:"Keratometry - Flat Meridian (Kf)",name:"biometrics.kf",unit:"dpt",error:null===(f=L.biometrics)||void 0===f?void 0:f.kf,touched:null===(x=M.biometrics)||void 0===x?void 0:x.kf}),Object(b.jsx)(h,{label:"Central Corneal Thickness (CCT)",name:"biometrics.cct",unit:"\u03bcm",error:null===(O=L.biometrics)||void 0===O?void 0:O.cct,touched:null===(y=M.biometrics)||void 0===y?void 0:y.cct})]}),Object(b.jsxs)("div",{className:"col-md-3 offset-md-1",children:[Object(b.jsx)("h2",{children:"Spectacle Refraction"}),Object(b.jsx)(h,{label:"Sphere",name:"spectacleRefraction.sphere",unit:"dpt",error:null===(N=L.spectacleRefraction)||void 0===N?void 0:N.sphere,touched:null===(g=M.spectacleRefraction)||void 0===g?void 0:g.sphere}),Object(b.jsx)(h,{label:"Cylindre",name:"spectacleRefraction.cylindre",unit:"dpt",error:null===(R=L.spectacleRefraction)||void 0===R?void 0:R.cylindre,touched:null===(C=M.spectacleRefraction)||void 0===C?void 0:C.cylindre}),Object(b.jsx)(h,{label:"Axis",name:"spectacleRefraction.axis",unit:"\xba",error:null===(w=L.spectacleRefraction)||void 0===w?void 0:w.axis,touched:null===(A=M.spectacleRefraction)||void 0===A?void 0:A.axis}),Object(b.jsx)(h,{label:"Vertex",name:"spectacleRefraction.vertex",unit:"mm",error:null===(B=L.spectacleRefraction)||void 0===B?void 0:B.vertex,touched:null===(E=M.spectacleRefraction)||void 0===E?void 0:E.vertex})]}),Object(b.jsxs)("div",{className:"col-md-3 offset-md-1",children:[Object(b.jsx)("h2",{children:"ICL Power"}),Object(b.jsx)(h,{label:"Sphere",name:"iclSphere",value:k({sphere:V.spectacleRefraction.sphere,cylindre:V.spectacleRefraction.cylindre}),unit:"dpt",disabled:!0}),Object(b.jsx)(h,{label:"Cylindre",name:"iclCylindre",value:S({sphere:V.spectacleRefraction.sphere,cylindre:V.spectacleRefraction.cylindre}),unit:"dpt",disabled:!0}),Object(b.jsx)(h,{label:"Axis",name:"iclAxis",value:(D=V.spectacleRefraction.axis,q(D>=0&&D<90?D+90:D>90&&D<=180?D-90:D,1)),unit:"\xba",disabled:!0}),Object(b.jsx)(h,{label:"Spherical Equivalent",value:F({sphere:V.spectacleRefraction.sphere,cylindre:V.spectacleRefraction.cylindre}),name:"iclSphericalEquivalent",unit:"\xba",disabled:!0})]})]})]})}})},M=function(){var e=Object(i.useState)(0),t=Object(n.a)(e,2),c=t[0],a=t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("nav",{className:"navbar navbar-expand navbar-dark bg-dark fixed-top",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("a",{className:"navbar-brand",href:"/icl-calc",children:"ICL Size Calc"}),Object(b.jsx)("ul",{className:"navbar-nav mr-auto"}),Object(b.jsx)("form",{className:"form-inline",children:Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){a((function(e){return e+1}))},children:"Reset"})})]})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(L,{initialValues:{patient:{name:"",dateOfBirth:"",eye:"left"},biometrics:{ata:0,wtw:0,clr:0,acq:0,acan:0,acat:0,kf:0,cct:0},spectacleRefraction:{sphere:0,cylindre:0,axis:0,vertex:0}}},c)})]})},V=function(){return Object(b.jsx)(M,{})};c(175);r.a.render(Object(b.jsx)(V,{}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.5d3baa62.chunk.js.map